(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{114:function(e,t,a){"use strict";a.r(t);a(62),a(87);var n=a(0),s=a.n(n),r=a(39),c=a.n(r),o=a(10),l=a.n(o),i=a(26),p=a(23),d=a(24),u=a(27),h=a(25),m=a(28),f=a(1),b=(a(113),function(e){function t(){var e,a;Object(p.a)(this,t);for(var n=arguments.length,s=new Array(n),r=0;r<n;r++)s[r]=arguments[r];return(a=Object(u.a)(this,(e=Object(h.a)(t)).call.apply(e,[this].concat(s)))).searchVideo=function(){a.props.connect.send("VKWebAppCallAPIMethod",{method:"video.search",params:{q:a.state.q,adult:a.state.adult,v:"5.95",access_token:a.props.data.token}})},a.state={adult:0,q:null,loading:!1},a}return Object(m.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){var e=this;return s.a.createElement(f.Panel,{id:this.props.id},s.a.createElement(f.PanelHeader,null,"Example"),this.props.data.fetchedUser&&s.a.createElement(f.Group,{title:"User Data Fetched with VK Connect"},s.a.createElement(f.ListItem,{before:this.props.data.fetchedUser.photo_200?s.a.createElement(f.Avatar,{src:this.props.data.fetchedUser.photo_200}):null,description:this.props.data.fetchedUser.city&&this.props.data.fetchedUser.city.title?this.props.data.fetchedUser.city.title:""},"".concat(this.props.data.fetchedUser.first_name," ").concat(this.props.data.fetchedUser.last_name))),s.a.createElement(f.Group,{title:"Navigation Example"},s.a.createElement(f.Div,null,s.a.createElement(f.FormLayout,null,s.a.createElement(f.Input,{type:"text",placeholder:"\u041f\u043e\u0438\u0441\u043a",onChange:function(t){e.setState({q:t.target.value})},value:this.state.q}),s.a.createElement(f.Checkbox,{onChange:function(){e.setState({adult:1-e.state.adult%2})}},"\u0411\u0435\u0437 \u043e\u0433\u0440\u0430\u043d\u0438\u0447\u0435\u043d\u0438\u0439"),s.a.createElement(f.Button,{onClick:this.searchVideo},"\u041f\u043e\u0438\u0441\u043a")))),this.props.data.sR?this.props.data.sR.items.map(function(e,t){return s.a.createElement(f.Group,{title:e.title,key:t},s.a.createElement(f.Div,null,s.a.createElement("iframe",{title:e.title,src:e.player,frameBorder:"0",allowFullScreen:!0,style:{width:"100%",height:"270px"}})))}):null)}}]),t}(s.a.Component)),v=function(e){function t(e){var a;Object(p.a)(this,t),(a=Object(u.a)(this,Object(h.a)(t).call(this,e))).go=function(e){a.setState({activePanel:e.currentTarget.dataset.to})};var n=e.cookies;return a.state={activePanel:"home",fetchedUser:null,token:n.get("userToken"),console:null,sR:null},a}return Object(m.a)(t,e),Object(d.a)(t,[{key:"componentDidMount",value:function(){var e=this;l.a.subscribe(function(t){switch(t.detail.type){case"VKWebAppGetUserInfoResult":e.setState({fetchedUser:t.detail.data});break;case"VKWebAppAccessTokenReceived":e.props.cookies.set("userToken",t.detail.data.access_token,{path:"/"}),e.setState({token:t.detail.data.access_token});break;case"VKWebAppCallAPIMethodResult":e.setState({sR:t.detail.data.response});break;default:e.setState({console:t.detail.type})}}),this.state.token||l.a.send("VKWebAppGetAuthToken",{app_id:6960579,scope:"friends,video"}),l.a.send("VKWebAppGetUserInfo",{})}},{key:"render",value:function(){return this.state.fetchedUser?s.a.createElement(f.View,{activePanel:this.state.activePanel},s.a.createElement(b,{id:"home",data:this.state,go:this.go,connect:l.a})):s.a.createElement("h1",{align:"center"},"Unsupported device!")}}]),t}(s.a.Component),k=Object(i.b)(v);l.a.send("VKWebAppInit",{}),c.a.render(s.a.createElement(i.a,null,s.a.createElement(k,null)),document.getElementById("root"))},61:function(e,t,a){e.exports=a(114)}},[[61,1,2]]]);
//# sourceMappingURL=main.5732ce7e.chunk.js.map