{"version":3,"sources":["panels/Home.js","App.js","index.js"],"names":["Home","searchVideo","_this","props","connect","send","method","params","q","state","adult","v","access_token","data","token","loading","_this2","this","react_default","a","createElement","vkui","id","fetchedUser","title","before","photo_200","src","description","city","concat","first_name","last_name","type","placeholder","onChange","e","setState","target","value","onClick","sR","items","map","item","key","player","frameBorder","allowFullScreen","style","width","height","React","Component","App","Object","classCallCheck","possibleConstructorReturn","getPrototypeOf","call","go","activePanel","currentTarget","dataset","to","cookies","get","console","subscribe","detail","set","path","response","app_id","scope","panels_Home","align","withCookies","ReactDOM","render","es6","src_App","document","getElementById"],"mappings":"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","file":"static/js/main.5732ce7e.chunk.js","sourcesContent":["import React from 'react';\nimport { Panel, ListItem, Input, Group, Div, Avatar, PanelHeader, Checkbox, FormLayout, Button, Link } from '@vkontakte/vkui';\n\nclass Home extends React.Component {\n\n\n\tsearchVideo = () => {\n\t\tthis.props.connect.send(\"VKWebAppCallAPIMethod\", {\"method\": \"video.search\", \"params\": {\"q\": this.state.q, \"adult\": this.state.adult, \"v\":\"5.95\", \"access_token\":this.props.data.token}});\n\t};\n\n\tstate = {\n\t\tadult: 0,\n\t\tq: null,\n\t\tloading: false\n\t};\n\n\trender() {\n\t\treturn (\n\t\t\t<Panel id={this.props.id}>\n\t\t\t\t<PanelHeader>Example</PanelHeader>\n\t\t\t\t{this.props.data.fetchedUser &&\n\t\t\t\t<Group title=\"User Data Fetched with VK Connect\">\n\t\t\t\t\t<ListItem\n\t\t\t\t\t\tbefore={this.props.data.fetchedUser.photo_200 ? <Avatar src={this.props.data.fetchedUser.photo_200}/> : null}\n\t\t\t\t\t\tdescription={this.props.data.fetchedUser.city && this.props.data.fetchedUser.city.title ? this.props.data.fetchedUser.city.title : ''}\n\t\t\t\t\t>\n\t\t\t\t\t\t{`${this.props.data.fetchedUser.first_name} ${this.props.data.fetchedUser.last_name}`}\n\t\t\t\t\t</ListItem>\n\t\t\t\t</Group>}\n\n\t\t\t\t<Group title=\"Navigation Example\">\n\t\t\t\t\t<Div>\n\t\t\t\t\t\t<FormLayout>\n\t\t\t\t\t\t\t<Input type=\"text\" placeholder=\"Поиск\" onChange={(e)=>{this.setState({q:e.target.value})}} value={this.state.q}/>\n\t\t\t\t\t\t\t<Checkbox onChange={()=>{this.setState({adult: 1 - this.state.adult%2})}}>Без ограничений</Checkbox>\n\t\t\t\t\t\t\t<Button onClick={this.searchVideo}>Поиск</Button>\n\t\t\t\t\t\t</FormLayout>\n\n\t\t\t\t\t</Div>\n\t\t\t\t</Group>\n\t\t\t\t{this.props.data.sR ?\n\t\t\t\t\tthis.props.data.sR.items.map((item,id)=>(\n\t\t\t\t\t\t<Group title={item.title} key={id}>\n\t\t\t\t\t\t\t<Div>\n\t\t\t\t\t\t\t\t<iframe title={item.title} src={item.player} frameBorder=\"0\" allowFullScreen style={{width:'100%', height: '270px'}}/>\n\t\t\t\t\t\t\t</Div>\n\t\t\t\t\t\t</Group>\n\t\t\t\t\t)):\n\t\t\t\tnull}\n\t\t\t</Panel>\n\t\t)\n\t}\n}\n\nexport default Home;\n","import React from 'react';\nimport connect from '@vkontakte/vkui-connect';\nimport { View } from '@vkontakte/vkui';\nimport '@vkontakte/vkui/dist/vkui.css';\nimport { withCookies, Cookies } from 'react-cookie';\nimport { instanceOf } from 'prop-types';\n\nimport Home from './panels/Home';\n\n\nclass App extends React.Component {\n\n\tstatic propTypes = {\n\t\tcookies: instanceOf(Cookies).isRequired\n\t};\n\n\n\tconstructor(props) {\n\t\tsuper(props);\n\n\t\tconst { cookies } = props;\n\t\tthis.state = {\n\t\t\tactivePanel: 'home',\n\t\t\tfetchedUser: null,\n\t\t\ttoken: cookies.get('userToken'),\n\t\t\t// token: '3e116480e499d06ed6e68e788f5bac7eebea8d87c00c2dad912527e91d4eac70ecd8a56edca5f1c19b182',\n\t\t\tconsole: null,\n\t\t\tsR: null,\n\t\t};\n\t}\n\n\tcomponentDidMount() {\n\t\tconnect.subscribe((e) => {\n\t\t\tswitch (e.detail.type) {\n\t\t\t\tcase 'VKWebAppGetUserInfoResult':\n\t\t\t\t\tthis.setState({ fetchedUser: e.detail.data });\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'VKWebAppAccessTokenReceived':\n\t\t\t\t\tconst { cookies } = this.props;\n\t\t\t\t\tcookies.set('userToken', e.detail.data.access_token, { path: '/' });\n\n\t\t\t\t\tthis.setState({token: e.detail.data.access_token});\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'VKWebAppCallAPIMethodResult':\n\n\t\t\t\t\tthis.setState({sR: e.detail.data.response});\n\t\t\t\t\tbreak;\n\t\t\t\tdefault:\n\t\t\t\t\tthis.setState({console: e.detail.type})\n\t\t\t}\n\t\t});\n\n\t\tif (!this.state.token) {\n\t\t\tconnect.send(\"VKWebAppGetAuthToken\", {\"app_id\": 6960579, \"scope\": \"friends,video\"})\n\t\t}\n\n\t\tconnect.send('VKWebAppGetUserInfo', {});\n\t}\n\n\n\n\n\tgo = (e) => {\n\t\tthis.setState({ activePanel: e.currentTarget.dataset.to })\n\t};\n\n\trender() {\n\t\treturn (\n\t\t\tthis.state.fetchedUser ?\n\t\t\t\t\t<View activePanel={this.state.activePanel}>\n\t\t\t\t\t\t<Home id=\"home\" data={this.state} go={this.go} connect={connect}/>\n\t\t\t\t\t</View>:\n\t\t\t\t<h1 align=\"center\">Unsupported device!</h1>\n\n\n\t\t);\n\t}\n}\n\nexport default withCookies(App);\n","import 'core-js/es6/map';\nimport 'core-js/es6/set';\nimport React from 'react';\nimport ReactDOM from 'react-dom';\nimport connect from '@vkontakte/vkui-connect';\nimport { CookiesProvider } from 'react-cookie';\nimport App from './App';\n// import registerServiceWorker from './sw';\n\n// Init VK App\nconnect.send('VKWebAppInit', {});\n\n// Если вы хотите, чтобы ваше веб-приложение работало в оффлайне и загружалось быстрее,\n// расскомментируйте строку с registerServiceWorker();\n// Но не забывайте, что на данный момент у технологии есть достаточно подводных камней\n// Подробнее про сервис воркеры можно почитать тут — https://vk.cc/8MHpmT \n// registerServiceWorker();\n\nReactDOM.render(\n    <CookiesProvider>\n        <App />\n    </CookiesProvider>,\n    document.getElementById('root'));\n"],"sourceRoot":""}