{"version":3,"sources":["panels/Home.js","panels/List.js","App.js","index.js"],"names":["Home","state","adult","q","contextOpened","hd","longer","count","sort","searchVideo","event","key","_this","setState","props","updateHistory","loading","connect","send","method","params","v","access_token","data","token","searchOffset","searchVideoFromHistory","vall","toggleContext","searchSort","_this2","this","react_default","a","createElement","vkui","id","aside","dropdown_default","onClick","opened","onClose","onChange","checked","value","onKeyPress","clearSR","autoComplete","style","marginTop","matginBottom","sR","map","item","oid","owner_id","position","href","concat","src","photo_130","alt","width","color","margin","bottom","right","Math","floor","duration","height","valign","overflow","textOverflow","marginBottom","textSize","title","description","views","display","zIndex","e","updateList","document","getElementById","innerHTML","favorite_default","history","split","slice","reverse","align","size","clearHistory","before","add_default","vertical","selected","React","Component","Lists","updateStore","val","list","App","Object","classCallCheck","possibleConstructorReturn","getPrototypeOf","call","localStorage","setItem","path","removeItem","setPanel","activePanel","cookies","fetchedUser","get","console","getItem","log","subscribe","detail","type","set","response","items","app_id","scope","_this3","activeStory","tabbar","search_default","list_default","panels_Home","List","withCookies","ReactDOM","render","es6","src_App"],"mappings":"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","file":"static/js/main.7b95d92c.chunk.js","sourcesContent":["import React from 'react';\nimport {Panel, PanelHeader, Checkbox, Search, PanelHeaderContent, Cell, List, HeaderContext, Footer, Spinner, Tabs, TabsItem, FixedLayout,Button,Div } from '@vkontakte/vkui';\nimport Icon16Dropdown from '@vkontakte/icons/dist/16/dropdown';\nimport Icon16Add from '@vkontakte/icons/dist/16/add';\nimport Icon28Favorite from '@vkontakte/icons/dist/28/favorite';\n\nclass Home extends React.Component {\n\n\n\tstate = {\n\t\tadult: 0,\n\t\tq: '',\n\t\tcontextOpened: false,\n\t\thd: 0,\n\t\tlonger: 0,\n\t\tcount: 10,\n\t\tsort: 2\n\t};\n\n\tsearchVideo = event => {\n\t\tif (event.key === 'Enter') {\n\t\t\tthis.setState({count: 10});\n\t\t\tthis.props.updateHistory(this.state.q);\n\t\t\tthis.props.loading();\n\t\t\tthis.props.connect.send(\"VKWebAppCallAPIMethod\", {\"method\": \"video.search\", \"params\": {\"sort\": this.state.sort,\"hd\":this.state.hd,\"longer\":this.state.longer,\"count\":10,\"q\": this.state.q, \"adult\": this.state.adult, \"v\":\"5.95\", \"access_token\":this.props.data.token}});\n\t\t}\n\t};\n\n\tsearchOffset = () => {\n\t\tthis.props.loading();\n\t\tthis.props.connect.send(\"VKWebAppCallAPIMethod\", {\"method\": \"video.search\", \"params\": {\"sort\": this.state.sort,\"hd\":this.state.hd,\"longer\":this.state.longer,\"count\":this.state.count + 10,\"q\": this.state.q, \"adult\": this.state.adult, \"v\":\"5.95\", \"access_token\":this.props.data.token}});\n\t\tthis.setState({count: this.state.count + 10});\n\t};\n\n\n\tsearchVideoFromHistory = (vall) => {\n\t\tthis.setState({q:vall});\n\t\tthis.props.loading();\n\t\tthis.props.connect.send(\"VKWebAppCallAPIMethod\", {\"method\": \"video.search\", \"params\": {\"sort\": this.state.sort,\"hd\":this.state.hd,\"longer\":this.state.longer,\"count\":this.state.count,\"q\": vall, \"adult\": this.state.adult, \"v\":\"5.95\", \"access_token\":this.props.data.token}});\n\n\t};\n\n\ttoggleContext = () => {\n\t\tthis.setState({ contextOpened: !this.state.contextOpened });\n\t};\n\n\tsearchSort = (vall) => {\n\t\tthis.setState({count: 10, sort: vall});\n\t\tthis.props.loading();\n\t\tthis.props.connect.send(\"VKWebAppCallAPIMethod\", {\"method\": \"video.search\", \"params\": {\"sort\": vall,\"hd\":this.state.hd,\"longer\":this.state.longer,\"count\": 10,\"q\": this.state.q, \"adult\": this.state.adult, \"v\":\"5.95\", \"access_token\":this.props.data.token}});\n\t};\n\n\n\trender() {\n\t\treturn (\n\t\t\t<Panel id={this.props.id}>\n\t\t\t\t<PanelHeader>\n\t\t\t\t\t<PanelHeaderContent aside={<Icon16Dropdown />} onClick={this.toggleContext}>\n\t\t\t\t\t\tВидео\n\t\t\t\t\t</PanelHeaderContent>\n\t\t\t\t</PanelHeader>\n\t\t\t\t<HeaderContext opened={this.state.contextOpened} onClose={this.toggleContext}>\n\t\t\t\t\t<List>\n\t\t\t\t\t\t<Cell>\n\t\t\t\t\t\t\t<Checkbox onChange={()=>{this.setState({adult: 1 - this.state.adult%2});this.searchSort(2)}} checked={!this.state.adult}>Безопасный поиск</Checkbox>\n\t\t\t\t\t\t\t<Checkbox onChange={()=>{this.setState({hd: 1 - this.state.hd%2});this.searchSort(2)}} checked={this.state.hd}>Только высокое качество</Checkbox>\n\t\t\t\t\t\t\t<Checkbox onChange={()=>{this.setState({longer: this.state.longer === 0? 600: 0});this.searchSort(2)}} checked={(this.state.longer - this.state.longer%600)/600}>Только длинные</Checkbox>\n\t\t\t\t\t\t</Cell>\n\t\t\t\t\t</List>\n\t\t\t\t</HeaderContext>\n\t\t\t\t<Search onChange={(value)=>{this.setState({q:value})}} value={this.state.q} onKeyPress={this.searchVideo} onClick={this.props.clearSR} autoComplete={true}/>\n\n\t\t\t\t{this.props.data.loading ? <Spinner style={{marginTop: 15, matginBottom: 15}}/>:null}\n\t\t\t\t<List>\n\t\t\t\t{this.props.data.sR ?\n\t\t\t\t\tthis.props.data.sR.map((item,key)=>{\n\t\t\t\t\t\tconst oid = item.owner_id;\n\t\t\t\t\t\tconst id = item.id;\n\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t<div style={{position:'relative'}}>\n\t\t\t\t\t\t\t\t<a href={`https://vk.com/video${oid}_${id}`} key={key}>\n\t\t\t\t\t\t\t\t<Cell >\n\t\t\t\t\t\t\t\t\t<table>\n\t\t\t\t\t\t\t\t\t\t<tbody>\n\t\t\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t\t\t<td style={{position:'relative'}}>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<img src={\n\t\t\t\t\t\t\t\t\t\t\t\t\t\titem.photo_130\n\t\t\t\t\t\t\t\t\t\t\t\t\t} alt=\"pic\" style={{width: 140}} />\n\t\t\t\t\t\t\t\t\t\t\t\t\t<h5 style={{color:'#E6E6E6', margin:0, position: 'absolute', bottom:2,right:2}}>{Math.floor(item.duration/60)}:{item.duration%60 < 10? '0' + item.duration%60: item.duration%60}</h5>\n\t\t\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t\t\t<td style={{width:'70%',position:'relative', height: '100%'}} valign=\"top\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t<p style={{overflow: 'hidden',textOverflow: 'ellipsis', width: 240, marginTop: 0, marginBottom:4, textSize: 15}}>{item.title}</p>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<p style={{overflow: 'hidden',textOverflow: 'ellipsis', width: 240, marginTop: 0, textSize: 11, color:'#939393'}}>{item.description}</p>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<p style={{overflow: 'hidden',textOverflow: 'ellipsis', width: 240, margin: 1, textSize: 8, color:'#939393', position:'absolute', bottom:2}}>Просмотры: {item.views}</p>\n\t\t\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t\t</tbody>\n\t\t\t\t\t\t\t\t\t</table>\n\t\t\t\t\t\t\t\t</Cell>\n\t\t\t\t\t\t\t\t\t<hr style={{display: 'none'}}/>\n\t\t\t\t\t\t\t\t</a>\n\t\t\t\t\t\t\t\t<div id={key} style={{position: 'absolute',right: 10, bottom: 10, color:'#4e7097', zIndex:10}} onClick={(e)=>{this.props.updateList([{\n\t\t\t\t\t\t\t\t\towner_id: oid,\n\t\t\t\t\t\t\t\t\tid: id,\n\t\t\t\t\t\t\t\t\tphoto_130: item.photo_130,\n\t\t\t\t\t\t\t\t\tduration: item.duration,\n\t\t\t\t\t\t\t\t\ttitle: item.title,\n\t\t\t\t\t\t\t\t\tdescription: item.description,\n\t\t\t\t\t\t\t\t\tviews: item.views\n\t\t\t\t\t\t\t\t}]);document.getElementById(key).innerHTML='✓'}}><Icon28Favorite/></div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t)\n\t\t\t\t\t}):\n\t\t\t\tthis.props.data.history? this.props.data.history.split(',').slice(1).reverse().map((item,key)=>(\n\t\t\t\t\t<Cell key={key} onClick={()=>{this.searchVideoFromHistory(item)}}>{item}</Cell>\n\t\t\t\t)) : null\n\n\t\t\t\t}\n\n\t\t\t\t\t{!this.props.data.sR && this.props.data.history ? <Div><Button align=\"center\" size=\"xl\" onClick={this.props.clearHistory}>Отчистить</Button></Div> : null}\n\n\t\t\t\t\t</List>\n\t\t\t\t{this.props.data.loading && this.props.data.sR ? <Spinner style={{marginTop: 15, matginBottom: 15}}/>:null}\n\t\t\t\t{ this.props.data.sR ? <Div>\n\t\t\t\t\t<Button align=\"center\" size=\"xl\" onClick={()=>{this.searchOffset()}} before={this.props.data.loading && this.props.data.sR ? <Spinner style={{marginTop: 15, matginBottom: 15}}/>:<Icon16Add/>}>Еще</Button>\n\t\t\t\t</Div>: null}\n\t\t\t\t<Footer>Поиск видео</Footer>\n\t\t\t\t{this.props.data.sR ?\n\t\t\t\t\t<FixedLayout vertical=\"bottom\" style={{zIndex:12}}>\n\t\t\t\t\t<Tabs>\n\t\t\t\t\t\t<TabsItem selected={this.state.sort === 2} onClick={()=>{this.searchSort(2)}}>По релевантности</TabsItem>\n\t\t\t\t\t\t<TabsItem selected={this.state.sort === 0} onClick={()=>{this.searchSort(0)}}>По дате</TabsItem>\n\t\t\t\t\t\t<TabsItem selected={this.state.sort === 1} onClick={()=>{this.searchSort(1)}}>По длительности</TabsItem>\n\t\t\t\t</Tabs></FixedLayout>:null}\n\t\t\t</Panel>\n\t\t)\n\t}\n}\n\nexport default Home;\n","import React from 'react';\nimport {Panel,PanelHeader,Cell,List} from '@vkontakte/vkui';\n\n\n\nclass Lists extends React.Component {\n    updateStore = (val) =>{\n        var v = this.props.data.list.concat(val);\n        this.props.connect.send(\"VKWebAppCallAPIMethod\",{\"method\": \"storage.set\", \"params\": {'key':'mylist','value':v,\"v\":\"5.95\", \"access_token\":this.props.data.token}})\n    };\n\n    render() {\n        return (\n            <Panel id={this.props.id} style={{position: 'relative'}}>\n                <PanelHeader>Галерея</PanelHeader>\n                <List>\n                {this.props.data.list ? this.props.data.list.map((item,key)=>(\n                    <a href={`https://vk.com/video${item.owner_id}_${item.id}`} key={key}>\n                        <Cell >\n                            <table>\n                                <tbody>\n                                <tr>\n                                    <td style={{position:'relative'}}>\n                                        <img src={\n                                            item.photo_130\n                                        } alt=\"pic\" style={{width: 140}} />\n                                        <h5 style={{color:'#E6E6E6', margin:0, position: 'absolute', bottom:2,right:2}}>{Math.floor(item.duration/60)}:{item.duration%60 < 10? '0' + item.duration%60: item.duration%60}</h5>\n                                    </td>\n                                    <td style={{width:'70%',position:'relative', height: '100%'}} valign=\"top\">\n                                        <p style={{overflow: 'hidden',textOverflow: 'ellipsis', width: 240, marginTop: 0, marginBottom:4, textSize: 15}}>{item.title}</p>\n                                        <p style={{overflow: 'hidden',textOverflow: 'ellipsis', width: 240, marginTop: 0, textSize: 11, color:'#939393'}}>{item.description}</p>\n                                        <p style={{overflow: 'hidden',textOverflow: 'ellipsis', width: 240, margin: 1, textSize: 8, color:'#939393', position:'absolute', bottom:2}}>Просмотры: {item.views}</p>\n                                    </td>\n                                </tr>\n                                </tbody>\n                            </table>\n                        </Cell>\n                        <hr style={{display: 'none'}}/>\n                    </a>\n                    )\n                ):null}\n                </List>\n            </Panel>\n        )\n    }\n}\n\nexport default Lists;","import React from 'react';\nimport connect from '@vkontakte/vkui-connect';\nimport { TabbarItem, Tabbar, Epic, View } from '@vkontakte/vkui';\nimport '@vkontakte/vkui/dist/vkui.css';\nimport { withCookies, Cookies } from 'react-cookie';\nimport { instanceOf } from 'prop-types';\nimport Icon28Search from '@vkontakte/icons/dist/28/search';\nimport Icon24List from '@vkontakte/icons/dist/24/list';\n\nimport Home from './panels/Home';\nimport Lists from './panels/List';\n\n\nclass App extends React.Component {\n\n\tstatic propTypes = {\n\t\tcookies: instanceOf(Cookies).isRequired\n\t};\n\n\n\tconstructor(props) {\n\t\tsuper(props);\n\n\t\tconst { cookies } = props;\n\t\tthis.state = {\n\t\t\tactivePanel: 'home',\n\t\t\tfetchedUser: null,\n\t\t\ttoken: cookies.get('userToken'),\n\t\t\tconsole: null,\n\t\t\tsR: null,\n\t\t\tloading: false,\n\t\t\thistory: localStorage.getItem('history') || '',\n\t\t\tlist: []\n\t\t};\n\t\tconsole.log()\n\t}\n\n\tclearSR = () => {\n\t    this.setState({sR: null})\n    };\n\n\tupdateHistory = (vall) => {\n\t\tthis.setState({history: this.state.history + ',' + vall});\n\t\tlocalStorage.setItem('history',this.state.history + ',' + vall, { path: '/' });\n\t};\n\n\tclearHistory = () => {\n\t\tthis.setState({history: ''});\n\t\tlocalStorage.removeItem('history');\n\t};\n\n\tloading = () => {\n\t\tthis.setState({loading: !this.state.loading})\n\t};\n\n\n\tcomponentDidMount() {\n\t\tconnect.subscribe((e) => {\n\t\t\tswitch (e.detail.type) {\n\t\t\t\tcase 'VKWebAppGetUserInfoResult':\n\t\t\t\t\tthis.setState({ fetchedUser: e.detail.data });\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'VKWebAppAccessTokenReceived':\n\t\t\t\t\tconst { cookies } = this.props;\n\t\t\t\t\tcookies.set('userToken', e.detail.data.access_token, { path: '/' });\n\n\t\t\t\t\tthis.setState({token: e.detail.data.access_token});\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'VKWebAppCallAPIMethodResult':\n\t\t\t\t\tif (e.detail.data.response.count){\n\t\t\t\t\t\tthis.setState({sR: e.detail.data.response.items});\n\t\t\t\t\t\tthis.loading();\n\t\t\t\t\t} else {\n\t\t\t\t\t\tconsole.log(this.state.list);\n\t\t\t\t\t}\n\t\t\t\t\tbreak;\n\t\t\t\tdefault:\n\t\t\t\t\tthis.setState({console: e.detail.type})\n\t\t\t}\n\t\t});\n\n\t\tif (!this.state.token) {\n\t\t\tconnect.send(\"VKWebAppGetAuthToken\", {\"app_id\": 6960579, \"scope\": \"friends,video\"})\n\t\t}\n\n\t\tconnect.send('VKWebAppGetUserInfo', {});\n\t}\n\n\n\tupdateList = (val) => {\n\t\tthis.setState({list: this.state.list.concat(val)})\n\t};\n\n\tsetPanel = (id) => {\n\t\tthis.setState({ activePanel: id })\n\t};\n\n\trender() {\n\t\treturn (\n\t\t\tthis.state.fetchedUser ?\n\t\t\t\t\t<Epic activeStory='search' tabbar={\n\t\t\t\t\t\t<Tabbar>\n\t\t\t\t\t\t\t<TabbarItem\n\t\t\t\t\t\t\t\tselected={this.state.activePanel === 'home'}\n\t\t\t\t\t\t\t\tonClick={()=>{this.setPanel('home')}}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<Icon28Search/>\n\t\t\t\t\t\t\t</TabbarItem>\n\t\t\t\t\t\t\t<TabbarItem\n\t\t\t\t\t\t\t\tonClick={()=>{this.setPanel('list')}}\n\t\t\t\t\t\t\t\tselected={this.state.activePanel === 'list'}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<Icon24List/>\n\t\t\t\t\t\t\t</TabbarItem>\n\t\t\t\t\t\t</Tabbar>\n\t\t\t\t\t}>\n\t\t\t\t\t\t<View id='search' activePanel={this.state.activePanel}>\n\t\t\t\t\t\t\t<Home id=\"home\" data={this.state} connect={connect} loading={this.loading} updateHistory={this.updateHistory} clearSR={this.clearSR} clearHistory={this.clearHistory} updateList={this.updateList}/>\n\t\t\t\t\t\t\t<Lists id=\"list\" connect={connect} data={this.state}/>\n\t\t\t\t\t\t</View>\n\t\t\t\t\t</Epic>:\n\t\t\t\t<h1 align=\"center\">Unsupported device!</h1>\n\n\n\t\t);\n\t}\n}\n\nexport default withCookies(App);\n","import 'core-js/es6/map';\nimport 'core-js/es6/set';\nimport React from 'react';\nimport ReactDOM from 'react-dom';\nimport connect from '@vkontakte/vkui-connect';\nimport { CookiesProvider } from 'react-cookie';\nimport App from './App';\n// import registerServiceWorker from './sw';\n\n// Init VK App\nconnect.send('VKWebAppInit', {});\n\n// Если вы хотите, чтобы ваше веб-приложение работало в оффлайне и загружалось быстрее,\n// расскомментируйте строку с registerServiceWorker();\n// Но не забывайте, что на данный момент у технологии есть достаточно подводных камней\n// Подробнее про сервис воркеры можно почитать тут — https://vk.cc/8MHpmT \n// registerServiceWorker();\n\nReactDOM.render(\n    <CookiesProvider>\n        <App />\n    </CookiesProvider>,\n    document.getElementById('root'));\n"],"sourceRoot":""}