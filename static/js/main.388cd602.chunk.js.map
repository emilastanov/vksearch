{"version":3,"sources":["panels/Home.js","App.js","index.js"],"names":["Home","state","adult","q","contextOpened","hd","longer","count","sort","searchVideo","event","key","_this","setState","props","updateHistory","loading","connect","send","method","params","v","access_token","data","token","searchOffset","searchVideoFromHistory","vall","toggleContext","searchSort","_this2","this","react_default","a","createElement","vkui","id","aside","dropdown_default","onClick","opened","onClose","onChange","checked","value","onKeyPress","clearSR","autoComplete","style","marginTop","matginBottom","sR","map","item","oid","owner_id","href","concat","src","photo_130","alt","width","valign","overflow","textOverflow","marginBottom","textSize","title","color","description","views","display","history","split","slice","reverse","align","size","before","add_default","vertical","selected","React","Component","App","Object","classCallCheck","possibleConstructorReturn","getPrototypeOf","call","cookies","set","path","go","e","activePanel","currentTarget","dataset","to","fetchedUser","get","console","subscribe","detail","type","response","items","app_id","scope","panels_Home","withCookies","ReactDOM","render","es6","src_App","document","getElementById"],"mappings":"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","file":"static/js/main.388cd602.chunk.js","sourcesContent":["import React from 'react';\nimport { Panel, PanelHeader, Checkbox, Search, PanelHeaderContent, Cell, List, HeaderContext, Footer, Spinner, Tabs, TabsItem, FixedLayout,Button,Div } from '@vkontakte/vkui';\nimport Icon16Dropdown from '@vkontakte/icons/dist/16/dropdown';\nimport Icon16Add from '@vkontakte/icons/dist/16/add';\n\nclass Home extends React.Component {\n\n\n\tstate = {\n\t\tadult: 0,\n\t\tq: '',\n\t\tcontextOpened: false,\n\t\thd: 0,\n\t\tlonger: 0,\n\t\tcount: 10,\n\t\tsort: 2\n\t};\n\n\tsearchVideo = event => {\n\t\tif (event.key === 'Enter') {\n\t\t\tthis.setState({count: 10});\n\t\t\tthis.props.updateHistory(this.state.q);\n\t\t\tthis.props.loading();\n\t\t\tthis.props.connect.send(\"VKWebAppCallAPIMethod\", {\"method\": \"video.search\", \"params\": {\"sort\": this.state.sort,\"hd\":this.state.hd,\"longer\":this.state.longer,\"count\":10,\"q\": this.state.q, \"adult\": this.state.adult, \"v\":\"5.95\", \"access_token\":this.props.data.token}});\n\t\t}\n\t};\n\n\tsearchOffset = () => {\n\t\tthis.props.loading();\n\t\tthis.props.connect.send(\"VKWebAppCallAPIMethod\", {\"method\": \"video.search\", \"params\": {\"sort\": this.state.sort,\"hd\":this.state.hd,\"longer\":this.state.longer,\"count\":this.state.count + 10,\"q\": this.state.q, \"adult\": this.state.adult, \"v\":\"5.95\", \"access_token\":this.props.data.token}});\n\t\tthis.setState({count: this.state.count + 10});\n\t};\n\n\n\tsearchVideoFromHistory = (vall) => {\n\t\tthis.setState({q:vall});\n\t\tthis.props.loading();\n\t\tthis.props.connect.send(\"VKWebAppCallAPIMethod\", {\"method\": \"video.search\", \"params\": {\"sort\": this.state.sort,\"hd\":this.state.hd,\"longer\":this.state.longer,\"count\":this.state.count,\"q\": vall, \"adult\": this.state.adult, \"v\":\"5.95\", \"access_token\":this.props.data.token}});\n\n\t};\n\n\ttoggleContext = () => {\n\t\tthis.setState({ contextOpened: !this.state.contextOpened });\n\t};\n\n\tsearchSort = (vall) => {\n\t\tthis.setState({count: 10, sort: vall});\n\t\tthis.props.loading();\n\t\tthis.props.connect.send(\"VKWebAppCallAPIMethod\", {\"method\": \"video.search\", \"params\": {\"sort\": vall,\"hd\":this.state.hd,\"longer\":this.state.longer,\"count\": 10,\"q\": this.state.q, \"adult\": this.state.adult, \"v\":\"5.95\", \"access_token\":this.props.data.token}});\n\t};\n\n\trender() {\n\t\treturn (\n\t\t\t<Panel id={this.props.id}>\n\t\t\t\t<PanelHeader>\n\t\t\t\t\t<PanelHeaderContent aside={<Icon16Dropdown />} onClick={this.toggleContext}>\n\t\t\t\t\t\tВидео\n\t\t\t\t\t</PanelHeaderContent>\n\t\t\t\t</PanelHeader>\n\t\t\t\t<HeaderContext opened={this.state.contextOpened} onClose={this.toggleContext}>\n\t\t\t\t\t<List>\n\t\t\t\t\t\t<Cell>\n\t\t\t\t\t\t\t<Checkbox onChange={()=>{this.setState({adult: 1 - this.state.adult%2})}} checked={!this.state.adult}>Безопасный поиск</Checkbox>\n\t\t\t\t\t\t\t<Checkbox onChange={()=>{this.setState({hd: 1 - this.state.hd%2})}} checked={this.state.hd}>Только высокое качество</Checkbox>\n\t\t\t\t\t\t\t<Checkbox onChange={()=>{this.setState({longer: this.state.longer === 0? 600: 0})}} checked={(this.state.longer - this.state.longer%600)/600}>Только длинные</Checkbox>\n\t\t\t\t\t\t</Cell>\n\t\t\t\t\t</List>\n\t\t\t\t</HeaderContext>\n\t\t\t\t<Search onChange={(value)=>{this.setState({q:value})}} value={this.state.q} onKeyPress={this.searchVideo} onClick={this.props.clearSR} autoComplete={true}/>\n\n\t\t\t\t{this.props.data.loading ? <Spinner style={{marginTop: 15, matginBottom: 15}}/>:null}\n\t\t\t\t<List>\n\t\t\t\t{this.props.data.sR ?\n\t\t\t\t\tthis.props.data.sR.map((item,key)=>{\n\t\t\t\t\t\tconst oid = item.owner_id;\n\t\t\t\t\t\tconst id = item.id;\n\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t<a href={`https://vk.com/video${oid}_${id}`} key={key}>\n\t\t\t\t\t\t\t<Cell >\n\t\t\t\t\t\t\t\t<table>\n\t\t\t\t\t\t\t\t\t<tbody>\n\t\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t\t\t\t\t<img src={\n\t\t\t\t\t\t\t\t\t\t\t\t\titem.photo_130\n\t\t\t\t\t\t\t\t\t\t\t\t} alt=\"pic\" style={{width: 140}} />\n\t\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t\t<td style={{width:'70%'}} valign=\"top\">\n\t\t\t\t\t\t\t\t\t\t\t\t<p style={{overflow: 'hidden',textOverflow: 'ellipsis', width: 240, marginTop: 0, marginBottom:4, textSize: 15}}>{item.title}</p>\n\t\t\t\t\t\t\t\t\t\t\t\t<p style={{overflow: 'hidden',textOverflow: 'ellipsis', width: 240, marginTop: 0, textSize: 11, color:'#939393'}}>{item.description}</p>\n\t\t\t\t\t\t\t\t\t\t\t\t<p style={{overflow: 'hidden',textOverflow: 'ellipsis', width: 240, marginTop: 0, textSize: 8, color:'#939393'}}>Просмотры: {item.views}</p>\n\t\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t</tbody>\n\t\t\t\t\t\t\t\t</table>\n\t\t\t\t\t\t\t</Cell>\n\t\t\t\t\t\t\t\t<hr style={{display: 'none'}}/>\n\t\t\t\t\t\t\t</a>\n\t\t\t\t\t\t)\n\t\t\t\t\t}):\n\t\t\t\tthis.props.data.history? this.props.data.history.split(',').slice(1).reverse().map((item,key)=>(\n\t\t\t\t\t<Cell key={key} onClick={()=>{this.searchVideoFromHistory(item)}}>{item}</Cell>\n\t\t\t\t)):null\n\t\t\t\t}\n\t\t\t\t\t</List>\n\t\t\t\t{this.props.data.loading && this.props.data.sR ? <Spinner style={{marginTop: 15, matginBottom: 15}}/>:null}\n\t\t\t\t{ this.props.data.sR ? <Div>\n\t\t\t\t\t<Button align=\"center\" size=\"xl\" onClick={()=>{this.searchOffset()}} before={this.props.data.loading && this.props.data.sR ? <Spinner style={{marginTop: 15, matginBottom: 15}}/>:<Icon16Add/>}>Еще</Button>\n\t\t\t\t</Div>: null}\n\t\t\t\t<Footer>Поиск видео</Footer>\n\t\t\t\t{this.props.data.sR ?\n\t\t\t\t\t<FixedLayout vertical=\"bottom\">\n\t\t\t\t\t<Tabs>\n\t\t\t\t\t\t<TabsItem selected={this.state.sort === 2} onClick={()=>{this.searchSort(2)}}>По релевантности</TabsItem>\n\t\t\t\t\t\t<TabsItem selected={this.state.sort === 0} onClick={()=>{this.searchSort(0)}}>По дате</TabsItem>\n\t\t\t\t\t\t<TabsItem selected={this.state.sort === 1} onClick={()=>{this.searchSort(1)}}>По длительности</TabsItem>\n\t\t\t\t</Tabs></FixedLayout>:null}\n\t\t\t</Panel>\n\t\t)\n\t}\n}\n\nexport default Home;\n","import React from 'react';\nimport connect from '@vkontakte/vkui-connect';\nimport { View } from '@vkontakte/vkui';\nimport '@vkontakte/vkui/dist/vkui.css';\nimport { withCookies, Cookies } from 'react-cookie';\nimport { instanceOf } from 'prop-types';\n\nimport Home from './panels/Home';\n\n\nclass App extends React.Component {\n\n\tstatic propTypes = {\n\t\tcookies: instanceOf(Cookies).isRequired\n\t};\n\n\n\tconstructor(props) {\n\t\tsuper(props);\n\n\t\tconst { cookies } = props;\n\t\tthis.state = {\n\t\t\tactivePanel: 'home',\n\t\t\tfetchedUser: null,\n\t\t\ttoken: cookies.get('userToken'),\n\t\t\tconsole: null,\n\t\t\tsR: null,\n\t\t\tloading: false,\n\t\t\thistory: cookies.get('history') || ''\n\t\t};\n\n\t}\n\n\tclearSR = () => {\n\t    this.setState({sR: null})\n    };\n\n\tupdateHistory = (vall) => {\n\t\tconst { cookies } = this.props;\n\t\tthis.setState({history: this.state.history + ',' + vall});\n\t\tcookies.set('history',this.state.history + ',' + vall, { path: '/' });\n\t};\n\tloading = () => {\n\t\tthis.setState({loading: !this.state.loading})\n\t};\n\n\tcomponentDidMount() {\n\t\tconnect.subscribe((e) => {\n\t\t\tswitch (e.detail.type) {\n\t\t\t\tcase 'VKWebAppGetUserInfoResult':\n\t\t\t\t\tthis.setState({ fetchedUser: e.detail.data });\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'VKWebAppAccessTokenReceived':\n\t\t\t\t\tconst { cookies } = this.props;\n\t\t\t\t\tcookies.set('userToken', e.detail.data.access_token, { path: '/' });\n\n\t\t\t\t\tthis.setState({token: e.detail.data.access_token});\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'VKWebAppCallAPIMethodResult':\n\t\t\t\t\tthis.setState({sR: e.detail.data.response.items});\n\t\t\t\t\tthis.loading();\n\t\t\t\t\tbreak;\n\t\t\t\tdefault:\n\t\t\t\t\tthis.setState({console: e.detail.type})\n\t\t\t}\n\t\t});\n\n\t\tif (!this.state.token) {\n\t\t\tconnect.send(\"VKWebAppGetAuthToken\", {\"app_id\": 6960579, \"scope\": \"friends,video\"})\n\t\t}\n\n\t\tconnect.send('VKWebAppGetUserInfo', {});\n\t}\n\n\n\n\n\tgo = (e) => {\n\t\tthis.setState({ activePanel: e.currentTarget.dataset.to })\n\t};\n\n\trender() {\n\t\treturn (\n\t\t\tthis.state.fetchedUser ?\n\t\t\t\t\t<View activePanel={this.state.activePanel}>\n\t\t\t\t\t\t<Home id=\"home\" data={this.state} go={this.go} connect={connect} loading={this.loading} updateHistory={this.updateHistory} clearSR={this.clearSR}/>\n\t\t\t\t\t</View>:\n\t\t\t\t<h1 align=\"center\">Unsupported device!</h1>\n\n\n\t\t);\n\t}\n}\n\nexport default withCookies(App);\n","import 'core-js/es6/map';\nimport 'core-js/es6/set';\nimport React from 'react';\nimport ReactDOM from 'react-dom';\nimport connect from '@vkontakte/vkui-connect';\nimport { CookiesProvider } from 'react-cookie';\nimport App from './App';\n// import registerServiceWorker from './sw';\n\n// Init VK App\nconnect.send('VKWebAppInit', {});\n\n// Если вы хотите, чтобы ваше веб-приложение работало в оффлайне и загружалось быстрее,\n// расскомментируйте строку с registerServiceWorker();\n// Но не забывайте, что на данный момент у технологии есть достаточно подводных камней\n// Подробнее про сервис воркеры можно почитать тут — https://vk.cc/8MHpmT \n// registerServiceWorker();\n\nReactDOM.render(\n    <CookiesProvider>\n        <App />\n    </CookiesProvider>,\n    document.getElementById('root'));\n"],"sourceRoot":""}